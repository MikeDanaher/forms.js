!function(a){"use strict";window.namespace=function(b,c){for(var d,e=window,f=b.split(".");d=f.shift();)e[d]=e[d]||{},e=e[d];a.extend(e,c)}}(window._),function(){namespace("FormsJs"),FormsJs.Form=function(){function a(a){this.data=a}return a.prototype.populate=function(){return _.each(this.data,function(a){return FormsJs.Form.Populator.populate(a)})},a.prototype.isValid=function(){return _.all(this.data,function(a){var b;return b=FormsJs.Form.Values.get(a),_.all(a.validations,function(a){return FormsJs.Form.Validator.isValid(a,b)})})},a.prototype.errors=function(){return _.reduce(this.data,function(a,b){return _.extend(a,FormsJs.Form.Errors.get(b)),a},{})},a.prototype.serialize=function(){return _.reduce(this.data,function(a,b){return _.extend(a,FormsJs.Form.Serializer.serialize(b)),a},{})},a.prototype.clear=function(){return FormsJs.Form.Clear.all()},a}()}.call(this),function(){namespace("FormsJs.Form"),FormsJs.Form.Clear=function(){function a(){}return a.all=function(){return $("form *").filter(":input").each(this.clearValue)},a.clearValue=function(){return"radio"===this.type||"checkbox"===this.type?$(this).prop("checked",!1):$(this).val("")},a}()}.call(this),function(){namespace("FormsJs.Form"),FormsJs.Form.Errors=function(){function a(){}return a.get=function(a){var b,c,d;return c={},b=[],d=FormsJs.Form.Values.get(a),_.each(a.validations,function(a){var c;return c=FormsJs.Form.Validator.isValid(a,d),c?void 0:b.push(a.errorMessage)}),0!==b.length&&(c[a.name]=b),c},a}()}.call(this),function(){namespace("FormsJs.Form"),FormsJs.Form.InputTypes=function(){function a(){}return a.TEXT="text",a.RADIO="radio",a.CHECKBOX="checkbox",a.SELECT="select",a.PASSWORD="password",a}()}.call(this),function(){namespace("FormsJs.Form"),FormsJs.Form.Populator=function(){function a(){}var b,c,d;return d=function(a){return $("[name='"+a.name+"']").val(a.value)},c=function(a){return $("[name='"+a.name+"'][value='"+a.value+"']").prop("checked",!0)},b=function(a){var b;return b=_.isArray(a.value)?a.value:[a.value],$("[name='"+a.name+"']").val(b)},a.populate=function(a){switch(a.type){case FormsJs.Form.InputTypes.TEXT:return d(a);case FormsJs.Form.InputTypes.RADIO:return c(a);case FormsJs.Form.InputTypes.CHECKBOX:return b(a);case FormsJs.Form.InputTypes.SELECT:return d(a);case FormsJs.Form.InputTypes.PASSWORD:return d(a);default:return d(a)}},a}()}.call(this),function(){namespace("FormsJs.Form"),FormsJs.Form.Serializer=function(){function a(){}return a.serialize=function(a){var b,c;return b={},c=FormsJs.Form.Values.get(a),b[a.name]=c,b},a}()}.call(this),function(){namespace("FormsJs.Form"),FormsJs.Form.Validator=function(){function a(){}return a.isValid=function(a,b){var c;return c=new FormsJs.Form.Validator.Factory,c.build(a).isValid(b)},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.CustomMatcher=function(){function a(a){this.options=a}return a.prototype.defaultMatcher=function(){return!0},a.prototype.isValid=function(a){var b;return(b=this.options.matcher||this.defaultMatcher)(a)},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.Email=function(){function a(a){this.options=a}return a.prototype.EMAILREGEXP=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,a.prototype.isValid=function(a){return this.EMAILREGEXP.test(a)||""===a},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.Factory=function(){function a(){}return a.prototype.build=function(a){switch(a.type){case"required":return new FormsJs.Form.Validator.Required(a);case"email":return new FormsJs.Form.Validator.Email(a);case"maxLength":return new FormsJs.Form.Validator.MaxLength(a);case"minLength":return new FormsJs.Form.Validator.MinLength(a);case"regExp":return new FormsJs.Form.Validator.RegExp(a);case"matchingInput":return new FormsJs.Form.Validator.MatchingInput(a);default:return new FormsJs.Form.Validator.CustomMatcher(a)}},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.MatchingInput=function(){function a(a){this.options=a}return a.prototype.isValid=function(a){var b,c;return c=this.options.matchField,b=$("[name="+c+"]").val()||a,b===a},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.MaxLength=function(){function a(a){this.options=a}return a.prototype.DEFAULTLENGTH=1e6,a.prototype.isValid=function(a){var b;return b=this.options.length||this.DEFAULTLENGTH,a.length<=b},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.MinLength=function(){function a(a){this.options=a}return a.prototype.DEFAULTLENGTH=1,a.prototype.isValid=function(a){var b;return b=this.options.length||this.DEFAULTLENGTH,a.length>=b||""===a},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.RegExp=function(){function a(a){this.options=a}return a.prototype.DEFAULTREGEXP=/[^]+/,a.prototype.isValid=function(a){var b,c;return b=/[^]+/,c=this.options.pattern||this.DEFAULTREGEXP,c.test(a)||""===a},a}()}.call(this),function(){namespace("FormsJs.Form.Validator"),FormsJs.Form.Validator.Required=function(){function a(a){this.options=a}return a.prototype.isValid=function(a){return""!==a&&void 0!==a},a}()}.call(this),function(){namespace("FormsJs.Form"),FormsJs.Form.Values=function(){function a(){}return a.DEFAULTVALUE="",a.get=function(a){var b;switch(a.type){case FormsJs.Form.InputTypes.TEXT:b=this.textValue(a.name);break;case FormsJs.Form.InputTypes.SELECT:b=this.textValue(a.name);break;case FormsJs.Form.InputTypes.RADIO:b=this.radioValue(a.name);break;case FormsJs.Form.InputTypes.CHECKBOX:b=this.checkedValues(a.name);break;case FormsJs.Form.InputTypes.PASSWORD:b=this.textValue(a.name)}return b=b||this.DEFAULTVALUE},a.textValue=function(a){return $("[name='"+a+"']").val()},a.radioValue=function(a){return $("[name='"+a+"']:checked").val()},a.checkedValues=function(a){return $("[name='"+a+"']:checked").map(function(){return this.value}).get()},a}()}.call(this);