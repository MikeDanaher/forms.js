<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Forms.js : A JavaScript library for working with forms" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Forms.js</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/bwvoss/forms.js">View on GitHub</a>

          <h1 id="project_title">Forms.js</h1>
          <h2 id="project_tagline">A JavaScript library for working with forms</h2>

       </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Working with web forms can be tedious and time consuming. Many of the tools that exist today require individual setup and handling for each form element. Furthermore, the current set of tools can be rigid and limiting in their functionality.</p>

<p>FormsJs hopes to solve a few of these challenges. A lightweight, javascript library, FormsJs allows you to work on an entire form at once. Using an array of javascript objects, you can populate a form with default values, check all validations, gather a list of error messages, and serialize all the data to be passed to the server. These configuration objects also make it easy to change functionality as your form evolves over time.</p>

<p>FormsJs was built with three main classes: Populator, Validator, and Serializer. Each class is instantiated with a different configuration giving you the flexibility to use the appropriate tool for the job. </p>

<h3>
<a name="populator" class="anchor" href="#populator"><span class="octicon octicon-link"></span></a>Populator</h3>

<p>The job of the populator is, naturally, to populate forms. You you give it a list of all the elements you want populated, with the values you want, and it does the rest. Here's a sample configuration array:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">populatorConfig</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="nx">elementSelector</span><span class="o">:</span> <span class="s2">"[data-id='email']"</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s2">"me@example.com"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s2">"checkbox"</span><span class="p">,</span>
    <span class="nx">elementSelector</span><span class="o">:</span> <span class="s2">"[data-id='opt-in']"</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="p">[</span><span class="s1">'Sign me up for the newsletter'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<p>With this configuration, we are telling the form to autofill the email address and check the box to sign them up for newsletters. The type parameter specifies the type of element to target. Currently FormsJs supports 'text', 'radio', 'checkbox', and 'select' as strings. </p>

<p>The elementSelector parameter specifies the specific element to target using a jQuery selector (i.e. '[name=email]', '#email', etc.).</p>

<p>The value parameter is the value to be populated. Text boxes, radio buttons, and select lists all take strings. Checkboxes take an array of strings to account for the possibility of groups of checkboxes with the same selector.</p>

<p>To use this configuration on your form, create a new Populator with the populatorConfig:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">populator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormsJs</span><span class="p">.</span><span class="nx">Populator</span><span class="p">(</span><span class="nx">populatorConfig</span><span class="p">)</span>
</pre></div>

<p>Then, when you're ready to populate the form, you just call the populate method on your populator.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">populator</span><span class="p">.</span><span class="nx">populate</span><span class="p">()</span>
</pre></div>

<h3>
<a name="validator" class="anchor" href="#validator"><span class="octicon octicon-link"></span></a>Validator</h3>

<p>Once the user has completed the form, you'll want to validate the information before submitting. The Validator class handles this for all of the form's elements. Using a configuration array similar to the populator, the validator also looks for a type and an elementSelector. Additionally, it also looks for an array of validations giving each element the ability to match several different validations (i.e. 'required' and 'minLength'). Here's a sample validator configuration:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">validatorConfig</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="nx">elementSelector</span><span class="o">:</span> <span class="s2">"[data-id='email']"</span><span class="p">,</span>
    <span class="nx">validations</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s2">"required"</span><span class="p">,</span>
        <span class="nx">errorMessage</span><span class="o">:</span> <span class="s2">"Email is required"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s2">"email"</span><span class="p">,</span>
        <span class="nx">errorMessage</span><span class="o">:</span> <span class="s2">"Please enter a valid email address"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="nx">elementSelector</span><span class="o">:</span> <span class="s2">"[name=phone]"</span><span class="p">,</span>
    <span class="nx">validations</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s2">"regExp"</span><span class="p">,</span>
        <span class="nx">pattern</span><span class="o">:</span> <span class="sr">/(?:\d{3}|\(\d{3}\))([-\/\.])\d{3}\1\d{4}/</span><span class="p">,</span>
        <span class="nx">errorMessage</span><span class="o">:</span> <span class="s2">"Please enter a valid phone number as ###-###-####"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<p>As you can see, within the validations parameter a 'type' and an 'errorMessage' are specified. Certain validations also have an additional parameter depending on their type (i.e. 'minLength' and 'maxLength' both also require a 'length'). Currently, FormsJs supports the following validation types: 'required', 'email', 'minLength', 'maxLength', 'regExp', and 'matchingInput'.</p>

<p>These types should cover the majority of form validation needs. However, we also included a 'customMatcher' should you need any specific validating. This validator requires a third parameter - a callback function that takes a value to be matched against and returns true or false.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">validations</span><span class="o">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">type</span> <span class="o">:</span> <span class="s2">"customMatcher"</span><span class="p">,</span>
    <span class="nx">errorMessage</span> <span class="o">:</span> <span class="s2">"Phone type is required when a phone number is entered"</span><span class="p">,</span>
    <span class="nx">matcher</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">otherField</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"[name=phone]"</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">otherField</span> <span class="o">===</span> <span class="s2">""</span><span class="p">)</span> <span class="p">{</span>
                      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="s2">""</span><span class="p">)</span> <span class="p">{</span>
                      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<p>To use the validatorConfig in your form, create a new validator with your configuration:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormsJs</span><span class="p">.</span><span class="nx">Validator</span><span class="p">(</span><span class="nx">validatorConfig</span><span class="p">)</span>
</pre></div>

<p>The Validator Class has two methods: <code>isValid()</code> and <code>errors()</code></p>

<p>Calling <code>validator.isValid()</code> will return true or false. Calling <code>validator.errors()</code> will return an object with the elementSelector and an array of its error messages. If our email address was left blank, this would return:</p>

<div class="highlight highlight-javascript"><pre><span class="p">{</span> <span class="s2">"[data-id='email']"</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">"Email is required"</span><span class="p">,</span> <span class="s2">"Please enter a valid email address"</span> <span class="p">]</span> <span class="p">}</span>
</pre></div>

<p>As you can see, FormsJs gives you complete control over how to validate a form and display the errors. </p>

<h3>
<a name="serializer" class="anchor" href="#serializer"><span class="octicon octicon-link"></span></a>Serializer</h3>

<p>After you have a complete, valid form, you need to serialize the data to be passed to the server. As with the other classes, FormsJs gives you complete control over how to do this. Start by creating a serializer configuration:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">serializerConfig</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="nx">elementSelector</span><span class="o">:</span> <span class="s2">"[name=firstName]"</span><span class="p">,</span>
    <span class="nx">dataKey</span><span class="o">:</span> <span class="s2">"first_name"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="nx">elementSelector</span><span class="o">:</span> <span class="s2">"[name=lastName]"</span><span class="p">,</span>
    <span class="nx">dataKey</span><span class="o">:</span> <span class="s2">"last_name"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="nx">elementSelector</span><span class="o">:</span> <span class="s2">"[name=email]"</span><span class="p">,</span>
    <span class="nx">dataKey</span><span class="o">:</span> <span class="s2">"email"</span>
  <span class="p">}</span>
</pre></div>

<p>In addition to the usual 'type' and 'elementSelector' parameters, the serializer has an optional 'dataKey' parameter. This allows you to specify the exact way the field should be sent to your database. If a 'dataKey' is not specified, FormsJs will use the HTML name attribute from your element.</p>

<p>As with the previous classes, create a new Serializer with your configuration:  </p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">serializer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormsJs</span><span class="p">.</span><span class="nx">Serializer</span><span class="p">(</span><span class="nx">serializerConfig</span><span class="p">)</span>
</pre></div>

<p>Calling <code>serializer.serialize()</code> will return a JSON object with each key being the specified dataKey (or element name) and the current value of the form:</p>

<div class="highlight highlight-javascript"><pre><span class="p">{</span> <span class="s2">"first_name"</span> <span class="o">:</span> <span class="s2">"Mike"</span><span class="p">,</span> <span class="s2">"last_name"</span> <span class="o">:</span> <span class="s2">"Danaher"</span><span class="p">,</span> <span class="s2">"email"</span> <span class="o">:</span> <span class="s2">"miked@example.com"</span> <span class="p">}</span>
</pre></div>

<p>Hopefully you can see the value that FormsJs brings to web forms. For more information and complete sample config files, check out the README on the <a href="https://github.com/bwvoss/forms.js">project’s home page</a>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Forms.js maintained by <a href="https://github.com/MikeDanaher">MikeDanaher</a> and <a href="https://github.com/bwvoss">Ben Voss</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
