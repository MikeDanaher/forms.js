{"name":"Forms.js","tagline":"A JavaScript library for working with forms","body":"Working with web forms can be tedious and time consuming. Many of the tools that exist today require individual setup and handling for each form element. Furthermore, the current set of tools can be rigid and limiting in their functionality.\r\n\r\nFormsJs hopes to solve a few of these challenges. A lightweight, javascript library, FormsJs allows you to work on an entire form at once. Using an array of javascript objects, you can populate a form with default values, check all validations, gather a list of error messages, and serialize all the data to be passed to the server. These configuration objects also make it easy to change functionality as your form evolves over time.\r\n\r\nFormsJs was built with three main classes: Populator, Validator, and Serializer. Each class is instantiated with a different configuration giving you the flexibility to use the appropriate tool for the job. \r\n\r\n### Populator\r\n\r\nThe job of the populator is, naturally, to populate forms. You you give it a list of all the elements you want populated, with the values you want, and it does the rest. Here's a sample configuration array:\r\n\r\n```javascript\r\nvar populatorConfig = [\r\n  {\r\n    type: \"text\",\r\n    elementSelector: \"[data-id='email']\",\r\n    value: \"me@example.com\"\r\n  },\r\n  {\r\n    type: \"checkbox\",\r\n    elementSelector: \"[data-id='opt-in']\",\r\n    value: ['Sign me up for the newsletter']\r\n  }\r\n]\r\n```\r\n\r\nWith this configuration, we are telling the form to autofill the email address and check the box to sign them up for newsletters. The type parameter specifies the type of element to target. Currently FormsJs supports 'text', 'radio', 'checkbox', and 'select' as strings. \r\n\r\nThe elementSelector parameter specifies the specific element to target using a jQuery selector (i.e. '[name=email]', '#email', etc.).\r\n\r\nThe value parameter is the value to be populated. Text boxes, radio buttons, and select lists all take strings. Checkboxes take an array of strings to account for the possibility of groups of checkboxes with the same selector.\r\n\r\nTo use this configuration on your form, create a new Populator with the populatorConfig:\r\n\r\n```javascript\r\nvar populator = new FormsJs.Populator(populatorConfig)\r\n```\r\n\r\nThen, when you're ready to populate the form, you just call the populate method on your populator.\r\n\r\n```javascript\r\npopulator.populate()\r\n```\r\n\r\n### Validator\r\n\r\nOnce the user has completed the form, you'll want to validate the information before submitting. The Validator class handles this for all of the form's elements. Using a configuration array similar to the populator, the validator also looks for a type and an elementSelector. Additionally, it also looks for an array of validations giving each element the ability to match several different validations (i.e. 'required' and 'minLength'). Here's a sample validator configuration:\r\n\r\n```javascript\r\nvar validatorConfig = [\r\n  {\r\n    type: \"text\",\r\n    elementSelector: \"[data-id='email']\",\r\n    validations: [\r\n      {\r\n        type: \"required\",\r\n        errorMessage: \"Email is required\"\r\n      },\r\n      {\r\n        type: \"email\",\r\n        errorMessage: \"Please enter a valid email address\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: \"text\",\r\n    elementSelector: \"[name=phone]\",\r\n    validations: [\r\n      {\r\n        type: \"regExp\",\r\n        pattern: /(?:\\d{3}|\\(\\d{3}\\))([-\\/\\.])\\d{3}\\1\\d{4}/,\r\n        errorMessage: \"Please enter a valid phone number as ###-###-####\"\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nAs you can see, within the validations parameter a 'type' and an 'errorMessage' are specified. Certain validations also have an additional parameter depending on their type (i.e. 'minLength' and 'maxLength' both also require a 'length'). Currently, FormsJs supports the following validation types: 'required', 'email', 'minLength', 'maxLength', 'regExp', and 'matchingInput'.\r\n\r\nThese types should cover the majority of form validation needs. However, we also included a 'customMatcher' should you need any specific validating. This validator requires a third parameter - a callback function that takes a value to be matched against and returns true or false.\r\n\r\n```javascript\r\nvalidations: [\r\n  {\r\n    type : \"customMatcher\",\r\n    errorMessage : \"Phone type is required when a phone number is entered\",\r\n    matcher : function(value) {\r\n                  otherField = $(\"[name=phone]\").val();\r\n                    if (otherField === \"\") {\r\n                      return true;\r\n                    } else if (value !== \"\") {\r\n                      return true;\r\n                    } else {\r\n                      return false;\r\n                    }\r\n  }\r\n]\r\n```\r\n\r\nTo use the validatorConfig in your form, create a new validator with your configuration:\r\n\r\n```javascript\r\nvar validator = new FormsJs.Validator(validatorConfig)\r\n```\r\n\r\nThe Validator Class has two methods: `isValid()` and `errors()`\r\n\r\nCalling `validator.isValid()` will return true or false. Calling `validator.errors()` will return an object with the elementSelector and an array of its error messages. If our email address was left blank, this would return:\r\n\r\n```javascript\r\n{ \"[data-id='email']\" : [ \"Email is required\", \"Please enter a valid email address\" ] }\r\n```\r\n\r\nAs you can see, FormsJs gives you complete control over how to validate a form and display the errors. \r\n\r\n### Serialization\r\n\r\nAfter you have a complete, valid form, you need to serialize the data to be passed to the server. As with the other classes, FormsJs gives you complete control over how to do this. Start by creating a serializer configuration:\r\n\r\n```javascript\r\nvar serializerConfig = [\r\n  {\r\n    type: \"text\",\r\n    elementSelector: \"[name=firstName]\",\r\n    dataKey: \"first_name\"\r\n  },\r\n  {\r\n    type: \"text\",\r\n    elementSelector: \"[name=lastName]\",\r\n    dataKey: \"last_name\"\r\n  },\r\n  {\r\n    type: \"text\",\r\n    elementSelector: \"[name=email]\",\r\n    dataKey: \"email\"\r\n  }\r\n```\r\n\r\nIn addition to the usual 'type' and 'elementSelector' parameters, the serializer has an optional 'dataKey' parameter. This allows you to specify the exact way the field should be sent to your database. If a 'dataKey' is not specified, FormsJs will use the HTML name attribute from your element.\r\n\r\nAs with the previous classes, create a new Serializer with your configuration:  \r\n\r\n```javascript\r\nvar serializer = new FormsJs.Serializer(serializerConfig)\r\n```\r\n\r\nCalling `serializer.serialize()` will return a JSON object with each key being the specified dataKey (or element name) and the current value of the form:\r\n\r\n```javascript\r\n{ \"first_name\" : \"Mike\", \"last_name\" : \"Danaher\", \"email\" : \"miked@example.com\" }\r\n```\r\n\r\nHopefully you can see the value that FormsJs brings to web forms. For more information and complete sample config files, check out the README on the [projectâ€™s home page](https://github.com/bwvoss/forms.js).","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}